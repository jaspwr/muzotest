"use strict";(()=>{var e={};e.id=494,e.ids=[494,660],e.modules={1323:(e,t)=>{Object.defineProperty(t,"l",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},714:(e,t,r)=>{r.r(t),r.d(t,{config:()=>S,default:()=>y,getServerSideProps:()=>j,getStaticPaths:()=>P,getStaticProps:()=>v,reportWebVitals:()=>w,routeModule:()=>E,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>_,unstable_getStaticProps:()=>k});var a={};r.r(a),r.d(a,{CreatePage:()=>h});var n=r(7093),s=r(5244),o=r(1323),i=r(1682),l=r.n(i),c=r(8141),d=r.n(c),u=r(997),p=r(6689),g=r(1);let m=(0,g.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),x=(0,g.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var b=r(7034);function f({onAudioCapture:e}){let[t,r]=(0,p.useState)(!1),[a,n]=(0,p.useState)(""),s=(0,p.useRef)(null),o=(0,p.useRef)([]),i=async()=>{try{let t=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(t);s.current=a,o.current=[],a.ondataavailable=e=>{o.current.push(e.data)},a.onstop=()=>{let t=new Blob(o.current,{type:"audio/wav"}),r=new File([t],"recording.wav",{type:"audio/wav"});e(r),n("Recording completed")},a.start(),r(!0),n("Recording in progress...")}catch(e){console.error("Error accessing microphone:",e),n("Error accessing microphone")}};return(0,u.jsxs)("div",{className:"bg-[#2c284e] p-5 rounded-lg flex gap-5 items-center",children:[(0,u.jsxs)("div",{children:[u.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Upload Audio File"}),u.jsx("input",{type:"file",accept:"audio/*",className:"hidden",id:"audio-upload",onChange:t=>{let r=t.target.files?.[0];r&&e(r)}}),(0,u.jsxs)("button",{type:"button",onClick:()=>document.getElementById("audio-upload")?.click(),className:"flex items-center gap-2 px-4 py-2 bg-[#3b3159] hover:bg-cyan-400 transition-colors rounded-lg text-white",children:[u.jsx(x,{size:20}),"Choose Audio"]})]}),(0,u.jsxs)("div",{children:[u.jsx("label",{className:"text-gray-400 text-sm block mb-2",children:"Record Audio"}),t?(0,u.jsxs)("div",{className:"flex flex-col gap-2",children:[u.jsx("button",{type:"button",onClick:()=>{s.current&&"recording"===s.current.state&&(s.current.stop(),r(!1))},className:"px-4 py-2 bg-[#7b6eff] hover:bg-cyan-400 transition-colors rounded-lg text-white",children:"Stop Recording"}),u.jsx("p",{className:"text-sm text-gray-400",children:a})]}):(0,u.jsxs)("button",{type:"button",onClick:i,className:"flex items-center gap-2 px-4 py-2 bg-[#3b3159] hover:bg-cyan-400 transition-colors rounded-lg text-white",children:[u.jsx(b.Z,{size:20}),"Start Recording"]})]})]})}function h(){let[e,t]=(0,p.useState)(""),[r,a]=(0,p.useState)(null),[n,s]=(0,p.useState)(!1),[o,i]=(0,p.useState)(null),l=async n=>{if(n.preventDefault(),!e.trim())return;s(!0),i(null);let o={prompt:e.trim(),audioFile:r||void 0};try{console.log("Submitting track:",o),t(""),a(null)}catch(e){i(e instanceof Error?e.message:"Failed to create track")}finally{s(!1)}};return(0,u.jsxs)("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[u.jsx("h1",{className:"text-3xl font-bold mb-8 text-cyan-400",children:"Create New Track"}),(0,u.jsxs)("div",{className:"bg-[#1e1b3b] p-6 rounded-xl",children:[o&&u.jsx("div",{className:"mb-6 p-4 bg-red-500/10 text-red-500 rounded-lg text-sm",children:o}),(0,u.jsxs)("form",{onSubmit:l,children:[u.jsx("textarea",{value:e,onChange:e=>t(e.target.value),placeholder:"Write about your song idea...",className:"w-full h-32 bg-[#2c284e] text-white rounded-lg p-4 mb-4 resize-none focus:ring-2 focus:ring-cyan-400 focus:outline-none",disabled:n}),u.jsx(f,{onAudioCapture:e=>{a(e)}}),r&&(0,u.jsxs)("p",{className:"mt-4 text-sm text-cyan-400",children:["Selected: ",r.name]}),(0,u.jsxs)("button",{type:"submit",disabled:n||!e.trim(),className:"mt-4 w-full bg-gradient-to-r from-cyan-400 to-blue-500 text-black font-semibold py-2 px-6 rounded-lg hover:opacity-90 transition-opacity flex items-center justify-center gap-2 disabled:opacity-50",children:[u.jsx(m,{size:20}),n?"Creating...":"Create"]})]})]})]})}let y=(0,o.l)(a,"default"),v=(0,o.l)(a,"getStaticProps"),P=(0,o.l)(a,"getStaticPaths"),j=(0,o.l)(a,"getServerSideProps"),S=(0,o.l)(a,"config"),w=(0,o.l)(a,"reportWebVitals"),k=(0,o.l)(a,"unstable_getStaticProps"),_=(0,o.l)(a,"unstable_getStaticPaths"),A=(0,o.l)(a,"unstable_getStaticParams"),N=(0,o.l)(a,"unstable_getServerProps"),C=(0,o.l)(a,"unstable_getServerSideProps"),E=new n.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/CreatePage",pathname:"/CreatePage",bundlePath:"",filename:""},components:{App:d(),Document:l()},userland:a})},1:(e,t,r)=>{r.d(t,{Z:()=>o});var a=r(6689),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:c="",children:d,...u},p)=>(0,a.createElement)("svg",{ref:p,...n,width:o,height:o,stroke:r,strokeWidth:l?24*Number(i)/Number(o):i,className:["lucide",`lucide-${s(e)}`,c].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return r.displayName=`${e}`,r}},7034:(e,t,r)=>{r.d(t,{Z:()=>a});let a=(0,r(1).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},8141:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(167),n=r(997),s=a._(r(6689)),o=r(5782);async function i(e){let{Component:t,ctx:r}=e;return{pageProps:await (0,o.loadGetInitialProps)(t,r)}}class l extends s.default.Component{render(){let{Component:e,pageProps:t}=this.props;return(0,n.jsx)(e,{...t})}}l.origGetInitialProps=i,l.getInitialProps=i,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5244:(e,t)=>{var r;Object.defineProperty(t,"x",{enumerable:!0,get:function(){return r}}),function(e){e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE"}(r||(r={}))},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},5315:e=>{e.exports=require("path")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[682],()=>r(714));module.exports=a})();